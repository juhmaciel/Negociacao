# Importa as bibliotecas necessárias
import os
import sys
import math

# Define as constantes
QNT_PARCELAS_MAX = 12
VALOR_PARCELA_MAX = 150

# Define a função para gerar o código de desconto
def gerar_desconto(valor, desconto_vista, desconto_parcelado, qtd_parcelas):
  """
  Gera um código de desconto de pagamento à vista e parcelado.

  Args:
    valor: O valor do produto ou serviço.
    desconto_vista: O desconto em porcentagem para pagamento à vista.
    desconto_parcelado: O desconto em porcentagem para pagamento parcelado.
    qtd_parcelas: A quantidade de parcelas.

  Returns:
    Um dicionário contendo o código de desconto, o valor do desconto e o valor final.
  """

  # Valida a quantidade de parcelas

  if qtd_parcelas > QNT_PARCELAS_MAX:
    raise ValueError("A quantidade de parcelas não pode ser superior a 12.")

  # Calcula o valor do desconto à vista

  valor_desconto_vista = valor * desconto_vista / 100

  # Calcula o valor do desconto parcelado

  valor_parcela = valor / qtd_parcelas
  valor_desconto_parcelado = valor_parcela * desconto_parcelado / 100

  # Calcula o valor final

  valor_final = valor - valor_desconto_vista - valor_desconto_parcelado

  # Gera o código de desconto

  codigo_desconto = f"{desconto_vista}-{desconto_parcelado}-{qtd_parcelas}"

  return {
    "codigo": codigo_desconto,
    "desconto": valor_desconto_vista + valor_desconto_parcelado,
    "valor_final": valor_final,
  }

# Função principal
def main():
  # Obtém o valor do produto ou serviço
  valor = float(input("Informe o valor do produto ou serviço: "))

  # Obtém o desconto à vista
  desconto_vista = float(input("Informe o desconto à vista em porcentagem: "))

  # Obtém o desconto parcelado
  desconto_parcelado = float(input("Informe o desconto parcelado em porcentagem: "))

  # Obtém a quantidade de parcelas
  qtd_parcelas = int(input("Informe a quantidade de parcelas: "))

  # Gera o código de desconto
  desconto = gerar_desconto(valor, desconto_vista, desconto_parcelado, qtd_parcelas)

  # Exibe o código de desconto
  print(f"Código de desconto: {desconto['codigo']}")
  print(f"Valor do desconto: {desconto['desconto']}")
  print(f"Valor final: {desconto['valor_final']}")

# Chama a função principal
if __name__ == "__main__":
  main()
